# OPUS Database Dump

**Data gerada em:** November 3, 2025  
**Banco de dados:** PostgreSQL (Neon)  
**Ambiente:** Development

## ğŸ“‹ ConteÃºdo do Dump

Este dump contÃ©m dados de desenvolvimento do sistema OPUS, organizado em 8 arquivos SQL:

### 1. `01_companies_and_customers.sql`
- **Companies**: 2 registros (GRUPO OPUS, Grupo OPUS)
- **Customers**: 4 registros (FAURECIA, TECNOFIBRA, teste, Cliente Teste)
- **Status**: 3 ativos, 1 inativo

### 2. `02_sites_and_zones.sql`
- **Sites (Locais)**: 7 registros
  - 1 local TECNOFIBRA (Fabrica Central)
  - 6 locais FAURECIA (VestiÃ¡rios, AmbulatÃ³rio, RefeitÃ³rio, Portaria, Administrativo, ProduÃ§Ã£o)
- **Zones**: 28 registros
  - Categorias: banheiro, producao
  - **TODOS module='clean'**

### 3. `03_users.sql`
- **Total**: 22 usuÃ¡rios
- **Ativos**: 18 (2 admin, 16 operadores)
- **Inativos**: 4 (3 admin, 1 operador)
- **Nota**: Senhas hasheadas omitidas por seguranÃ§a

### 4. `04_services_and_categories.sql`
- **Service Types**: 3 (EmergÃªncia, Preventivo, Preventiva)
- **Service Categories**: 2 (Limpeza Tecnica, Limpeza)
- **Services**: 3 (ReposiÃ§Ã£o de Suprimentos, HigienizaÃ§Ã£o de Cabine, Limpeza Rotina)
- **TODOS module='clean'**

### 5. `05_qr_codes_and_checklists.sql`
- **QR Code Points**: 26 registros
  - Tipo: execucao (TODOS)
  - Tamanho: 5cm
  - **TODOS module='clean'**
- **Checklist Templates**: 4 templates
  - RTM, PINTURA SMC, Limpeza de banheiros, CWC feminino
  - Itens: text, photo, checkbox

### 6. `06_cleaning_activities.sql`
- **Cleaning Activities**: 20+ registros
- **FrequÃªncias**:
  - diaria (DiÃ¡ria): 5+
  - semanal (Semanal): 10+
  - mensal (Mensal): 1+
  - anual (Anual): 3
  - turno (Por turno): 1
- **Clientes**: FAURECIA, TECNOFIBRA
- **TODOS module='clean'**

### 7. `07_work_orders_summary.sql`
- **Total**: 697 ordens de serviÃ§o
- **Status**:
  - Abertas: 685 (98.3%)
  - ConcluÃ­das: 12 (1.7%)
- **Tipos**: programada, corretiva_interna, corretiva_publica
- **Prioridades**: baixa, media, alta, urgente
- **TODOS module='clean'**

### 8. `08_configurations.sql`
- **Dashboard Goals**: 2 (1 ativo para Out/2025)
- **SLA Configs**: 0
- **Equipment**: 0
- **Maintenance Templates**: 0
- **Maintenance Plans**: 0

## ğŸ“Š EstatÃ­sticas Gerais

### Dados por MÃ³dulo
- **OPUS Clean (module='clean')**: 100% dos dados atuais
- **OPUS ManutenÃ§Ã£o (module='maintenance')**: Sem dados (mÃ³dulo em preparaÃ§Ã£o)

### Isolamento de Dados
âœ… **17 tabelas com isolamento por mÃ³dulo**:

**Tabelas Principais**:
- sites, zones, work_orders, qr_code_points
- services, cleaning_activities, dashboard_goals, service_types

**Tabelas de ConfiguraÃ§Ã£o**:
- service_categories, checklist_templates, sla_configs
- equipment, maintenance_checklist_templates, maintenance_plans

### Hierarquia de Dados
```
Companies (2)
â””â”€â”€ Customers (4)
    â””â”€â”€ Sites/Locais (7)
        â””â”€â”€ Zones (28)
            â”œâ”€â”€ Work Orders (697)
            â”œâ”€â”€ QR Codes (26)
            â””â”€â”€ Equipment (0)
```

## ğŸ” SeguranÃ§a

- âš ï¸ **Senhas nÃ£o incluÃ­das**: Password hashes omitidos do dump
- âš ï¸ **Ambiente Dev**: Dados de desenvolvimento apenas
- âš ï¸ **NÃ£o usar em produÃ§Ã£o**: Este dump Ã© para referÃªncia e desenvolvimento

## ğŸ—„ï¸ Tabelas Completas no Banco

Total de 32 tabelas no schema pÃºblico:
1. audit_logs
2. bathroom_counter_logs
3. bathroom_counters
4. checklist_templates âœ…
5. cleaning_activities âœ…
6. companies âœ…
7. company_counters
8. custom_roles
9. customers âœ…
10. dashboard_goals âœ…
11. equipment âœ…
12. maintenance_checklist_executions
13. maintenance_checklist_templates âœ…
14. maintenance_plan_equipments
15. maintenance_plans âœ…
16. public_request_logs
17. qr_code_points âœ…
18. role_permissions
19. service_categories âœ…
20. service_types âœ…
21. service_zones
22. services âœ…
23. site_shifts
24. sites âœ…
25. sla_configs âœ…
26. user_role_assignments
27. user_site_assignments
28. users âœ…
29. webhook_configs
30. work_order_comments
31. work_orders âœ…
32. zones âœ…

âœ… = IncluÃ­do neste dump

## ğŸ“ Notas

1. **Work Orders**: 697 registros nÃ£o incluÃ­dos completos (apenas sumÃ¡rio) devido ao volume
2. **JSON Fields**: Campos como `items` em checklists e `frequency_config` em activities contÃªm JSON
3. **Timestamps**: Todos os timestamps em UTC
4. **Module Field**: Campo `module` presente em 17 tabelas garantindo isolamento de dados

## ğŸ”§ Como Usar Este Dump

### Importar Dados
```bash
# Para importar em ordem
psql -U postgres -d opus_db -f 01_companies_and_customers.sql
psql -U postgres -d opus_db -f 02_sites_and_zones.sql
psql -U postgres -d opus_db -f 03_users.sql
# ... e assim por diante
```

### Exportar Dados Completos
```bash
# Export completo do banco
pg_dump -U postgres opus_db > opus_full_backup.sql

# Export de tabela especÃ­fica
pg_dump -U postgres -t work_orders opus_db > work_orders_full.sql
```

## ğŸ“ InformaÃ§Ãµes de Contato

Para questÃµes sobre este dump ou estrutura do banco de dados, consulte a documentaÃ§Ã£o em `ARCHITECTURE.md`.
