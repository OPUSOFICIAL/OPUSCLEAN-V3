Prompt:

Voc√™ √© um assistente t√©cnico especialista em design de aplica√ß√µes SaaS multi-tenant com personaliza√ß√£o visual e roteamento por subdom√≠nios.

Estou desenvolvendo uma plataforma de facilities que atende v√°rias empresas clientes, e cada uma deve acessar a aplica√ß√£o por um subdom√≠nio pr√≥prio, por exemplo:

empresaA.meusistema.com

empresaB.meusistema.com

Quero que a IA descreva o comportamento esperado do sistema e proponha uma arquitetura que permita customiza√ß√£o total da interface e branding, conforme as seguintes regras:

üß© Regras e comportamento esperado

Cada subdom√≠nio representa um cliente.

O sistema deve identificar o cliente pelo subdom√≠nio (empresaA) no momento do acesso.

Essa identifica√ß√£o define qual configura√ß√£o de tema ser√° carregada.

Antes do login:

O sistema j√° deve exibir o tema, cores e logo do cliente.

A tela de login e eventuais p√°ginas p√∫blicas (landing page) devem refletir a identidade visual da empresa.

Ap√≥s o login:

A customiza√ß√£o continua ativa em todo o app.

Caso o cliente tenha varia√ß√µes internas (por exemplo, departamentos), o tema pode carregar varia√ß√µes secund√°rias.

As configura√ß√µes de cada cliente s√£o armazenadas no banco de dados ou cache em estrutura semelhante a:

{
  "client_id": "empresaA",
  "subdomain": "empresaA",
  "theme": {
    "primary": "#002244",
    "secondary": "#FFCC00",
    "logo_url": "https://cdn.meusistema.com/empresaA/logo.png"
  },
  "landing_page": {
    "title": "Bem-vindo √† Empresa A",
    "hero_image": "https://cdn.meusistema.com/empresaA/banner.jpg"
  }
}


O sistema deve:

Detectar automaticamente o subdom√≠nio no front-end e back-end.

Buscar as configura√ß√µes correspondentes.

Aplicar o tema din√¢mico via CSS variables, Context API, ou Tailwind CSS.

Ter um fallback padr√£o para quando o subdom√≠nio n√£o existir (por exemplo, www.meusistema.com usa o tema global).

Requisitos t√©cnicos importantes:

O roteamento deve funcionar para m√∫ltiplos subdom√≠nios com SSL (sugest√£o: wildcard certificate *.meusistema.com).

As p√°ginas podem ser geradas estaticamente com revalida√ß√£o din√¢mica (Next.js, por exemplo).

O cache de tema deve ser otimizado (Redis ou mem√≥ria local).

O sistema deve permitir escalar para centenas de clientes sem necessidade de builds separados.

Pe√ßo que a IA produza:

A arquitetura de alto n√≠vel (front e back-end).

O fluxo de detec√ß√£o e carregamento do subdom√≠nio.

O mecanismo de renderiza√ß√£o din√¢mica do tema.

Um exemplo pr√°tico de implementa√ß√£o simplificada (React + Node.js ou Next.js).

Explica√ß√£o do comportamento esperado de ponta a ponta (da requisi√ß√£o DNS at√© o carregamento visual).

Objetivo final:

Cada cliente deve sentir que possui um portal pr√≥prio (cliente.meusistema.com) com sua identidade completa,
sem precisar replicar o c√≥digo ou fazer deploys individuais.

Gere uma explica√ß√£o detalhada, arquitetural e t√©cnica, com exemplos pr√°ticos e boas pr√°ticas de seguran√ßa e performance.